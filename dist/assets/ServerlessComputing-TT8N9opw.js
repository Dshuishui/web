import{r as _,h as ke,aR as He,aH as Ye,d as Ve,aS as je,T as Y,w as r,aw as ce,b as a,aN as Ke,aA as Ze,aT as te,aU as qe,ao as Z,aB as Ee,au as j,aV as _e,aW as Se,aF as Pe,aX as We,ah as Ae,aY as Xe,c as U,aZ as Je,a_ as ge,o as x,a as e,v as w,F as oe,D as re,q as N,e as h,t as p,a$ as Qe,b0 as et,G as he,a3 as be,aP as ye,ap as xe,b1 as tt,I as K,b2 as we,E as at,p as st,f as lt,_ as nt}from"./index-Cijopa7O.js";import{E as ot}from"./el-overlay-czcTZnqK.js";import{c as rt,g as ct,E as it,a as ut,d as dt,b as vt}from"./el-form-item-BNsekO1c.js";import{E as mt,a as pt}from"./el-tab-pane-BD_K11RJ.js";import{E as ft}from"./el-progress-Wt2wcf6x.js";import{E as _t}from"./el-button-BsT9_piT.js";import{b as F,a as gt,c as ht,E as bt}from"./el-message-BOTSB-_G.js";import"./el-checkbox-BqjCoBl3.js";import"./event-CDProVzN.js";function yt(s){let t;const l=_(!1),n=ke({...s,originalPosition:"",originalOverflow:"",visible:!1});function b(d){n.text=d}function v(){const d=n.parent,k=y.ns;if(!d.vLoadingAddClassList){let S=d.getAttribute("loading-number");S=Number.parseInt(S)-1,S?d.setAttribute("loading-number",S.toString()):(te(d,k.bm("parent","relative")),d.removeAttribute("loading-number")),te(d,k.bm("parent","hidden"))}V(),E.unmount()}function V(){var d,k;(k=(d=y.$el)==null?void 0:d.parentNode)==null||k.removeChild(y.$el)}function A(){var d;s.beforeClose&&!s.beforeClose()||(l.value=!0,clearTimeout(t),t=window.setTimeout(i,400),n.visible=!1,(d=s.closed)==null||d.call(s))}function i(){if(!l.value)return;const d=n.parent;l.value=!1,d.vLoadingAddClassList=void 0,v()}const f=Ve({name:"ElLoading",setup(d,{expose:k}){const{ns:S,zIndex:M}=je("loading");return k({ns:S,zIndex:M}),()=>{const I=n.spinner||n.svg,G=Y("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...I?{innerHTML:I}:{}},[Y("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),H=n.text?Y("p",{class:S.b("text")},[n.text]):void 0;return Y(Ze,{name:S.b("fade"),onAfterLeave:i},{default:r(()=>[ce(a("div",{style:{backgroundColor:n.background||""},class:[S.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[Y("div",{class:S.b("spinner")},[G,H])]),[[Ke,n.visible]])])})}}}),E=He(f),y=E.mount(document.createElement("div"));return{...Ye(n),setText:b,removeElLoadingChild:V,close:A,handleAfterLeave:i,vm:y,get $el(){return y.$el}}}let Q;const xt=function(s={}){if(!qe)return;const t=wt(s);if(t.fullscreen&&Q)return Q;const l=yt({...t,closed:()=>{var b;(b=t.closed)==null||b.call(t),t.fullscreen&&(Q=void 0)}});Ct(t,t.parent,l),Ce(t,t.parent,l),t.parent.vLoadingAddClassList=()=>Ce(t,t.parent,l);let n=t.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",t.parent.setAttribute("loading-number",n),t.parent.appendChild(l.$el),Z(()=>l.visible.value=t.visible),t.fullscreen&&(Q=l),l},wt=s=>{var t,l,n,b;let v;return Ee(s.target)?v=(t=document.querySelector(s.target))!=null?t:document.body:v=s.target||document.body,{parent:v===document.body||s.body?document.body:v,background:s.background||"",svg:s.svg||"",svgViewBox:s.svgViewBox||"",spinner:s.spinner||!1,text:s.text||"",fullscreen:v===document.body&&((l=s.fullscreen)!=null?l:!0),lock:(n=s.lock)!=null?n:!1,customClass:s.customClass||"",visible:(b=s.visible)!=null?b:!0,target:v}},Ct=async(s,t,l)=>{const{nextZIndex:n}=l.vm.zIndex||l.vm._.exposed.zIndex,b={};if(s.fullscreen)l.originalPosition.value=j(document.body,"position"),l.originalOverflow.value=j(document.body,"overflow"),b.zIndex=n();else if(s.parent===document.body){l.originalPosition.value=j(document.body,"position"),await Z();for(const v of["top","left"]){const V=v==="top"?"scrollTop":"scrollLeft";b[v]=`${s.target.getBoundingClientRect()[v]+document.body[V]+document.documentElement[V]-Number.parseInt(j(document.body,`margin-${v}`),10)}px`}for(const v of["height","width"])b[v]=`${s.target.getBoundingClientRect()[v]}px`}else l.originalPosition.value=j(t,"position");for(const[v,V]of Object.entries(b))l.$el.style[v]=V},Ce=(s,t,l)=>{const n=l.vm.ns||l.vm._.exposed.ns;["absolute","fixed","sticky"].includes(l.originalPosition.value)?te(t,n.bm("parent","relative")):_e(t,n.bm("parent","relative")),s.fullscreen&&s.lock?_e(t,n.bm("parent","hidden")):te(t,n.bm("parent","hidden"))},ee=Symbol("ElLoading"),Te=(s,t)=>{var l,n,b,v;const V=t.instance,A=d=>Se(t.value)?t.value[d]:void 0,i=d=>{const k=Ee(d)&&(V==null?void 0:V[d])||d;return k&&_(k)},f=d=>i(A(d)||s.getAttribute(`element-loading-${We(d)}`)),E=(l=A("fullscreen"))!=null?l:t.modifiers.fullscreen,y={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:E,target:(n=A("target"))!=null?n:E?void 0:s,body:(b=A("body"))!=null?b:t.modifiers.body,lock:(v=A("lock"))!=null?v:t.modifiers.lock};s[ee]={options:y,instance:xt(y)}},Tt=(s,t)=>{for(const l of Object.keys(t))Pe(t[l])&&(t[l].value=s[l])},kt={mounted(s,t){t.value&&Te(s,t)},updated(s,t){const l=s[ee];t.oldValue!==t.value&&(t.value&&!t.oldValue?Te(s,t):t.value&&t.oldValue?Se(t.value)&&Tt(t.value,l.options):l==null||l.instance.close())},unmounted(s){var t;(t=s[ee])==null||t.instance.close(),s[ee]=null}};function Vt(){const s=_([]),t=_([]),l=_(""),n=_(!1),b=_(!1),v=async()=>{try{n.value=!0;const i=[{name:"topic3-pro",status:"Active",statusText:"活跃",functions:12,cpuUsage:"45%",memory:"2.1GB / 4GB"},{name:"topic3-dev",status:"Active",statusText:"活跃",functions:8,cpuUsage:"23%",memory:"1.5GB / 8GB"},{name:"development",status:"waiting",statusText:"等待中",functions:3,cpuUsage:"12%",memory:"512MB / 2GB"}];s.value=i,s.value.length>0&&(l.value=s.value[0].name,await V(l.value))}catch(i){console.error("获取命名空间失败:",i),F.error("获取命名空间失败")}finally{n.value=!1}},V=async i=>{if(i)try{b.value=!0,console.log(`正在获取命名空间 "${i}" 下的函数...`);let f=[];i==="topic3-pro"?f=[{name:"kp-receiver",image:"ghcr.io/fission/python-env",status:"running",invocations:1423,replicas:"1/1",namespace:i,labels:{"com.openfaas.scale.min":"1","com.openfaas.scale.max":"5"},envVars:{PATH:"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"}},{name:"kp-sender",image:"ghcr.io/fission/node-env",status:"running",invocations:856,replicas:"2/2",namespace:i,labels:{"com.openfaas.scale.min":"2","com.openfaas.scale.max":"10"},envVars:{NODE_ENV:"production",PORT:"8080"}}]:i==="topic3-dev"?f=[{name:"api-fn",image:"ghcr.io/fission/python-env",status:"running",invocations:234,replicas:"1/1",namespace:i,labels:{"com.openfaas.scale.min":"1","com.openfaas.scale.max":"3"},envVars:{PYTHONPATH:"/usr/local/lib/python3.8/site-packages"}},{name:"test-function",image:"ghcr.io/fission/node-env",status:"pending",invocations:0,replicas:"0/1",namespace:i,labels:{"com.openfaas.scale.min":"0","com.openfaas.scale.max":"2"},envVars:{NODE_ENV:"development",DEBUG:"true"}}]:i==="development"?f=[{name:"dev-api",image:"ghcr.io/fission/python-env",status:"waiting",invocations:0,replicas:"0/1",namespace:i,labels:{"com.openfaas.scale.min":"0","com.openfaas.scale.max":"1"},envVars:{PYTHONPATH:"/usr/local/lib/python3.8/site-packages",ENV:"development"}}]:f=[{name:"default-function",image:"functions/alpine:latest",status:"pending",invocations:0,replicas:"0/1",namespace:i,labels:{"com.openfaas.scale.min":"0","com.openfaas.scale.max":"1"},envVars:{}}],t.value=f,console.log(`命名空间 "${i}" 下的函数获取成功，共 ${f.length} 个函数`)}catch(f){console.error("获取函数列表失败:",f),F.error("获取函数列表失败")}finally{b.value=!1}},A=async i=>{if(i){console.log(`切换命名空间: ${l.value} -> ${i}`);try{t.value=[],l.value=i,await V(i),F.success(`已切换到命名空间: ${i}`)}catch(f){console.error("切换命名空间失败:",f),F.error(`切换命名空间失败: ${f}`)}}};return Ae(()=>{v()}),{namespaces:s,functions:t,selectedNamespace:l,loading:n,functionsLoading:b,fetchNamespaces:v,fetchFunctionsByNamespace:V,changeNamespace:A}}const C=s=>(st("data-v-61895253"),s=s(),lt(),s),Et={class:"serverless-container"},St=Je('<div class="page-intro" data-v-61895253><div class="intro-header" data-v-61895253><h1 data-v-61895253>无服务器计算平台</h1><p class="subtitle" data-v-61895253>面向边缘微小型数据中心的高性能函数计算服务</p></div><div class="intro-divider" data-v-61895253></div><div class="research-section" data-v-61895253><h2 data-v-61895253>研究背景与核心技术</h2><div class="research-content" data-v-61895253><p data-v-61895253>本项目致力于构建面向边缘微小型数据中心的无服务器计算平台，重点解决边缘环境下的函数计算性能与资源管理挑战。</p><p data-v-61895253>核心技术包括：强隔离弹性一致性代数系统设计、函数级动态资源配置机制、高性能函数间通信框架等关键技术，实现了边缘环境下的高并发、低延迟函数计算服务。</p><p data-v-61895253>技术创新点：提供面向边缘服务器无感的强隔离弹性一致性调度算法，实现复杂函数工作流的智能资源管理与编排，构建了高效的函数间直接通信机制。</p></div></div></div>',1),Pt={class:"content-panel"},At={class:"section-header"},It=C(()=>e("h2",{class:"section-title"},"命名空间概览",-1)),Lt={class:"namespace-selector"},Nt=C(()=>e("span",null,"当前命名空间:",-1)),$t={class:"content-panel"},Bt={class:"section-header"},Dt=C(()=>e("h2",{class:"section-title"},"函数管理",-1)),Ft={class:"function-header-info"},Ut={class:"current-namespace"},Mt={class:"function-count"},Rt={class:"function-actions"},Gt={class:"content-panel"},Ot=C(()=>e("div",{class:"performance-header"},[e("h2",{class:"section-title"},"核心技术指标"),e("p",{class:"performance-subtitle"},"面向边缘服务器的强隔离弹性一致性代数系统")],-1)),zt={class:"metrics-showcase"},Ht={class:"metric-card primary-metric"},Yt={class:"metric-icon"},jt={class:"metric-content"},Kt=C(()=>e("h3",null,"并发处理能力",-1)),Zt=C(()=>e("div",{class:"metric-value"},[e("span",{class:"target-value"},"≥ 10万"),e("span",{class:"unit"},"TPS")],-1)),qt=C(()=>e("p",{class:"metric-desc"},"函数级强隔离弹性一致性调度",-1)),Wt={class:"metric-card primary-metric"},Xt={class:"metric-icon"},Jt={class:"metric-content"},Qt=C(()=>e("h3",null,"数据吞吐率",-1)),ea=C(()=>e("div",{class:"metric-value"},[e("span",{class:"target-value"},"≥ 30"),e("span",{class:"unit"},"Gb/s")],-1)),ta=C(()=>e("p",{class:"metric-desc"},"函数间直接通信端到端性能",-1)),aa={class:"performance-modules"},sa={class:"test-module"},la=C(()=>e("div",{class:"module-header"},[e("h3",null,"并发处理能力测试"),e("p",null,"测试函数级强隔离弹性一致性调度性能，目标：≥ 10万 TPS")],-1)),na={class:"chart-section"},oa={class:"chart-wrapper"},ra={class:"test-control"},ca={key:0,class:"test-progress"},ia={class:"test-actions"},ua={key:0,class:"test-result-summary"},da={class:"result-item"},va={class:"result-item"},ma={class:"test-module"},pa=C(()=>e("div",{class:"module-header"},[e("h3",null,"数据吞吐率测试"),e("p",null,"测试不同包大小下的函数间通信性能，目标：≥ 30 Gb/s")],-1)),fa={class:"chart-section"},_a={class:"chart-wrapper"},ga={class:"test-control"},ha={key:0,class:"test-progress"},ba={class:"test-actions"},ya={key:0,class:"test-result-summary"},xa={class:"result-item"},wa={class:"result-item"},Ca={key:0},Ta=C(()=>e("h4",{style:{"margin-top":"0","margin-bottom":"15px"}},"基本信息:",-1)),ka=C(()=>e("strong",null,"名称:",-1)),Va=C(()=>e("strong",null,"镜像:",-1)),Ea=C(()=>e("strong",null,"状态:",-1)),Sa=C(()=>e("strong",null,"调用次数:",-1)),Pa=C(()=>e("strong",null,"副本数:",-1)),Aa=C(()=>e("h4",{style:{"margin-top":"20px","margin-bottom":"10px"}},"环境变量:",-1)),Ia=C(()=>e("h4",{style:{"margin-top":"20px","margin-bottom":"10px"}},"标签:",-1)),La=Ve({__name:"ServerlessComputing",setup(s){const{namespaces:t,functions:l,selectedNamespace:n,loading:b,functionsLoading:v,changeNamespace:V}=Vt(),A=_("namespace"),i=_(!1),f=_(!1),E=_(null),y=_({concurrency:"pending",throughput:"pending"}),d=_(!1),k=_(0),S=_(null),M=_(null),I=_([]),G=_(!1),H=_(0),q=_(null),ae=_(4),R=_([]),T=ke({name:"",image:"",envVars:"",labels:""}),se=_(null),le=_(null);let $=null,B=null;const ie=c=>({running:"success",Active:"success",waiting:"warning"})[c]||"info",W=c=>({running:"运行中",pending:"待启动",testing:"测试中",achieved:"已达标",failed:"未达标"})[c]||c,Ie=(c,o,m)=>m.toLocaleString(),Le=c=>{E.value=c,f.value=!0},Ne=async c=>{try{await gt.confirm(`确定要删除函数 "${c.name}" 吗？`,"确认删除",{type:"warning",customClass:"common-messagebox"});const o=l.value.findIndex(m=>m.name===c.name);o>-1&&(l.value.splice(o,1),F.success(`函数 "${c.name}" 已删除`))}catch{F.info("已取消删除")}},$e=()=>{if(!T.name||!T.image){F.error("请填写函数名和镜像");return}const c={},o={};T.envVars&&T.envVars.split(`
`).forEach(P=>{const[g,D]=P.split("=");g&&D&&(c[g.trim()]=D.trim())}),T.labels&&T.labels.split(`
`).forEach(P=>{const[g,D]=P.split("=");g&&D&&(o[g.trim()]=D.trim())});const m={name:T.name,image:T.image,status:"waiting",invocations:0,replicas:"0/1",namespace:n.value,labels:o,envVars:c};l.value.push(m),i.value=!1,Object.assign(T,{name:"",image:"",envVars:"",labels:""}),F.success(`函数 "${m.name}" 创建成功！`)},Be=async()=>{d.value=!0,k.value=0,I.value=[],y.value.concurrency="testing",await Z(),ue();const c=30,o=3e3,m=c/3;let P=0;M.value=setInterval(()=>{P++;const g=Math.floor(85e3+Math.random()*25e3);I.value.push(g),k.value=P/m*100,Me(),P>=m&&De()},o)},De=()=>{M.value&&(clearInterval(M.value),M.value=null);const c=Math.max(...I.value),o=Math.floor(I.value.reduce((m,P)=>m+P,0)/I.value.length);S.value={peakTPS:c.toLocaleString(),avgTPS:o.toLocaleString(),finalData:[...I.value]},y.value.concurrency=c>=1e5?"achieved":"failed",d.value=!1,F.success("并发处理能力测试完成！")},Fe=async()=>{G.value=!0,H.value=0,R.value=[],ae.value=4,y.value.throughput="testing",await Z(),de();const c=[4,8,16,32],o=2e3;for(let m=0;m<c.length;m++){ae.value=c[m],await new Promise(g=>setTimeout(g,o));const P=parseFloat((25+Math.random()*10+m*2).toFixed(1));R.value.push(P),H.value=(m+1)/c.length*100,Re()}Ue()},Ue=()=>{const c=Math.max(...R.value),o=(R.value.reduce((m,P)=>m+P,0)/R.value.length).toFixed(1);q.value={peakThroughput:c.toFixed(1),avgThroughput:o,finalData:[...R.value]},y.value.throughput=c>=30?"achieved":"failed",G.value=!1,F.success("数据吞吐率测试完成！")},ue=async()=>{try{const c=(await ge(()=>import("./auto-CL2tixFj.js"),[])).default;se.value&&($&&$.destroy(),$=new c(se.value,{type:"line",data:{labels:["0s","3s","6s","9s","12s","15s","18s","21s","24s","27s","30s"],datasets:[{label:"实时TPS",data:[],borderColor:"#0C8357",backgroundColor:"rgba(12, 131, 87, 0.1)",tension:.4,fill:!0},{label:"目标线 (10万TPS)",data:new Array(11).fill(1e5),borderColor:"#e02020",borderDash:[5,5],pointRadius:0,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top"}},scales:{y:{beginAtZero:!0,max:12e4,title:{display:!0,text:"TPS (每秒事务数)"}},x:{title:{display:!0,text:"测试时间"}}}}}))}catch(c){console.error("并发图表初始化失败:",c)}},Me=()=>{if($){const c=Array.from({length:I.value.length},(o,m)=>`${m*3}s`);$.data.labels=c,$.data.datasets[0].data=[...I.value],$.data.datasets[1].data=new Array(c.length).fill(1e5),$.update("none")}},de=async()=>{try{const c=(await ge(()=>import("./auto-CL2tixFj.js"),[])).default;le.value&&(B&&B.destroy(),B=new c(le.value,{type:"line",data:{labels:["4","8","16","32"],datasets:[{label:"实时吞吐率",data:[],borderColor:"#4EC58C",backgroundColor:"rgba(78, 197, 140, 0.1)",tension:.4,fill:!0},{label:"目标线 (30 Gb/s)",data:new Array(4).fill(30),borderColor:"#e02020",borderDash:[5,5],pointRadius:0,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top"}},scales:{y:{beginAtZero:!0,max:40,title:{display:!0,text:"吞吐率 (Gb/s)"}},x:{title:{display:!0,text:"包大小 (pky_kb)"}}}}}))}catch(c){console.error("吞吐图表初始化失败:",c)}},Re=()=>{if(B){const o=[4,8,16,32].slice(0,R.value.length).map(m=>m.toString());B.data.labels=o,B.data.datasets[0].data=[...R.value],B.data.datasets[1].data=new Array(o.length).fill(30),B.update("none")}},Ge=()=>{M.value&&clearInterval(M.value),$&&$.destroy(),B&&B.destroy()};return Ae(async()=>{await Z(),ue(),de()}),Xe(()=>{Ge()}),(c,o)=>{const m=vt,P=rt,g=ht,D=ct,ve=bt,ne=pt,L=at,O=_t,me=ft,Oe=mt,X=it,J=ut,ze=dt,pe=ot,fe=kt;return x(),U("div",Et,[St,a(Oe,{modelValue:A.value,"onUpdate:modelValue":o[2]||(o[2]=u=>A.value=u),class:"main-tabs common-tabs"},{default:r(()=>[a(ne,{label:"命名空间管理",name:"namespace"},{default:r(()=>[e("div",Pt,[e("div",At,[It,e("div",Lt,[Nt,a(P,{modelValue:w(n),"onUpdate:modelValue":o[0]||(o[0]=u=>Pe(n)?n.value=u:null),class:"common-select",onChange:w(V)},{default:r(()=>[(x(!0),U(oe,null,re(w(t),u=>(x(),N(m,{key:u.name,label:u.name,value:u.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])]),ce((x(),N(ve,{data:w(t),class:"common-table",stripe:""},{default:r(()=>[a(g,{prop:"name",label:"命名空间",width:"150"}),a(g,{prop:"statusText",label:"状态",width:"100"},{default:r(u=>[a(D,{type:ie(u.row.status)},{default:r(()=>[h(p(u.row.statusText),1)]),_:2},1032,["type"])]),_:1}),a(g,{prop:"functions",label:"函数数量",width:"120"}),a(g,{prop:"cpuUsage",label:"CPU使用率",width:"120"}),a(g,{prop:"memory",label:"内存使用"})]),_:1},8,["data"])),[[fe,w(b)]])])]),_:1}),a(ne,{label:"函数管理",name:"functions"},{default:r(()=>[e("div",$t,[e("div",Bt,[Dt,e("div",Ft,[e("span",Ut,[h("当前命名空间: "),e("strong",null,p(w(n)),1)]),e("span",Mt,[h("函数数量: "),e("strong",null,p(w(l).length),1)])]),a(O,{class:"-emdc-button-primary",onClick:o[1]||(o[1]=u=>i.value=!0)},{default:r(()=>[a(L,null,{default:r(()=>[a(w(Qe))]),_:1}),h(" 创建函数 ")]),_:1})]),ce((x(),N(ve,{data:w(l),class:"common-table",stripe:""},{default:r(()=>[a(g,{prop:"name",label:"函数名称",width:"180"}),a(g,{prop:"image",label:"镜像"}),a(g,{prop:"namespace",label:"命名空间",width:"120"}),a(g,{prop:"invocations",label:"调用次数",width:"120",formatter:Ie}),a(g,{prop:"replicas",label:"副本数",width:"100"}),a(g,{prop:"status",label:"状态",width:"100"},{default:r(u=>[a(D,{type:ie(u.row.status)},{default:r(()=>[h(p(W(u.row.status)),1)]),_:2},1032,["type"])]),_:1}),a(g,{label:"操作",width:"200"},{default:r(u=>[e("div",Rt,[a(O,{class:"-emdc-button-plain",size:"small",onClick:z=>Le(u.row)},{default:r(()=>[h(" 详情 ")]),_:2},1032,["onClick"]),a(O,{type:"danger",size:"small",onClick:z=>Ne(u.row)},{default:r(()=>[h(" 删除 ")]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])),[[fe,w(v)]])])]),_:1}),a(ne,{label:"性能评估",name:"performance"},{default:r(()=>[e("div",Gt,[Ot,e("div",zt,[e("div",Ht,[e("div",Yt,[a(L,null,{default:r(()=>[a(w(et))]),_:1})]),e("div",jt,[Kt,Zt,qt,e("div",{class:he(["metric-status",y.value.concurrency])},[y.value.concurrency==="achieved"?(x(),N(L,{key:0},{default:r(()=>[a(w(be))]),_:1})):y.value.concurrency==="testing"?(x(),N(L,{key:1},{default:r(()=>[a(w(ye))]),_:1})):(x(),N(L,{key:2},{default:r(()=>[a(w(xe))]),_:1})),e("span",null,p(W(y.value.concurrency)),1)],2)])]),e("div",Wt,[e("div",Xt,[a(L,null,{default:r(()=>[a(w(tt))]),_:1})]),e("div",Jt,[Qt,ea,ta,e("div",{class:he(["metric-status",y.value.throughput])},[y.value.throughput==="achieved"?(x(),N(L,{key:0},{default:r(()=>[a(w(be))]),_:1})):y.value.throughput==="testing"?(x(),N(L,{key:1},{default:r(()=>[a(w(ye))]),_:1})):(x(),N(L,{key:2},{default:r(()=>[a(w(xe))]),_:1})),e("span",null,p(W(y.value.throughput)),1)],2)])])]),e("div",aa,[e("div",sa,[la,e("div",na,[e("div",oa,[e("canvas",{ref_key:"concurrencyChart",ref:se,width:"400",height:"250"},null,512)]),e("div",ra,[d.value?(x(),U("div",ca,[a(me,{percentage:k.value,"show-text":!1},null,8,["percentage"]),e("p",null,"测试进行中... "+p(k.value.toFixed(0))+"% ("+p(Math.floor(k.value*30/100))+"s / 30s)",1)])):K("",!0),e("div",ia,[a(O,{class:"-emdc-button-primary",loading:d.value,onClick:Be},{default:r(()=>[a(L,null,{default:r(()=>[a(w(we))]),_:1}),h(" "+p(d.value?"测试中...":"开始并发测试"),1)]),_:1},8,["loading"]),S.value?(x(),U("div",ua,[e("span",da,[h("峰值TPS: "),e("strong",null,p(S.value.peakTPS),1)]),e("span",va,[h("平均TPS: "),e("strong",null,p(S.value.avgTPS),1)])])):K("",!0)])])])]),e("div",ma,[pa,e("div",fa,[e("div",_a,[e("canvas",{ref_key:"throughputChart",ref:le,width:"400",height:"250"},null,512)]),e("div",ga,[G.value?(x(),U("div",ha,[a(me,{percentage:H.value,"show-text":!1},null,8,["percentage"]),e("p",null,"测试进行中... "+p(H.value.toFixed(0))+"% ("+p(ae.value)+" KB包)",1)])):K("",!0),e("div",ba,[a(O,{class:"-emdc-button-primary",loading:G.value,onClick:Fe},{default:r(()=>[a(L,null,{default:r(()=>[a(w(we))]),_:1}),h(" "+p(G.value?"测试中...":"开始吞吐测试"),1)]),_:1},8,["loading"]),q.value?(x(),U("div",ya,[e("span",xa,[h("峰值吞吐: "),e("strong",null,p(q.value.peakThroughput)+" Gb/s",1)]),e("span",wa,[h("平均吞吐: "),e("strong",null,p(q.value.avgThroughput)+" Gb/s",1)])])):K("",!0)])])])])])])]),_:1})]),_:1},8,["modelValue"]),a(pe,{modelValue:i.value,"onUpdate:modelValue":o[8]||(o[8]=u=>i.value=u),title:"创建新函数",width:"600px",class:"common-dialog"},{footer:r(()=>[a(O,{onClick:o[7]||(o[7]=u=>i.value=!1)},{default:r(()=>[h("取消")]),_:1}),a(O,{class:"-emdc-button-primary",onClick:$e},{default:r(()=>[h(" 创建 ")]),_:1})]),default:r(()=>[a(ze,{model:T,"label-width":"120px"},{default:r(()=>[a(J,{label:"函数名称"},{default:r(()=>[a(X,{modelValue:T.name,"onUpdate:modelValue":o[3]||(o[3]=u=>T.name=u),placeholder:"请输入函数名称",class:"common-input"},null,8,["modelValue"])]),_:1}),a(J,{label:"镜像地址"},{default:r(()=>[a(X,{modelValue:T.image,"onUpdate:modelValue":o[4]||(o[4]=u=>T.image=u),placeholder:"请输入镜像地址",class:"common-input"},null,8,["modelValue"])]),_:1}),a(J,{label:"环境变量"},{default:r(()=>[a(X,{modelValue:T.envVars,"onUpdate:modelValue":o[5]||(o[5]=u=>T.envVars=u),type:"textarea",placeholder:"格式: KEY=VALUE，每行一个",class:"common-textarea",rows:4},null,8,["modelValue"])]),_:1}),a(J,{label:"标签"},{default:r(()=>[a(X,{modelValue:T.labels,"onUpdate:modelValue":o[6]||(o[6]=u=>T.labels=u),type:"textarea",placeholder:"格式: KEY=VALUE，每行一个",class:"common-textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(pe,{modelValue:f.value,"onUpdate:modelValue":o[9]||(o[9]=u=>f.value=u),title:"函数详情",width:"700px",class:"common-dialog"},{default:r(()=>[E.value?(x(),U("div",Ca,[Ta,e("p",null,[ka,h(" "+p(E.value.name),1)]),e("p",null,[Va,h(" "+p(E.value.image),1)]),e("p",null,[Ea,h(" "+p(W(E.value.status)),1)]),e("p",null,[Sa,h(" "+p(E.value.invocations),1)]),e("p",null,[Pa,h(" "+p(E.value.replicas),1)]),Aa,(x(!0),U(oe,null,re(E.value.envVars,(u,z)=>(x(),N(D,{key:z,style:{margin:"2px"}},{default:r(()=>[h(p(z)+": "+p(u),1)]),_:2},1024))),128)),Ia,(x(!0),U(oe,null,re(E.value.labels,(u,z)=>(x(),N(D,{key:z,style:{margin:"2px"},type:"info"},{default:r(()=>[h(p(z)+": "+p(u),1)]),_:2},1024))),128))])):K("",!0)]),_:1},8,["modelValue"])])}}}),Oa=nt(La,[["__scopeId","data-v-61895253"]]);export{Oa as default};
